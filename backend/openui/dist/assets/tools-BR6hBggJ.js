import{R as ie,r as R}from"./vendor-De1_G7BA.js";const P={},Z=(e,n)=>e.unstable_is?e.unstable_is(n):n===e,B=e=>"init"in e,U=e=>!!e.write,H=e=>"v"in e||"e"in e,J=e=>{if("e"in e)throw e.e;if((P?"production":void 0)!=="production"&&!("v"in e))throw new Error("[Bug] atom state is not initialized");return e.v},M=new WeakMap,ee=e=>{var n;return W(e)&&!!((n=M.get(e))!=null&&n[0])},fe=e=>{const n=M.get(e);n!=null&&n[0]&&(n[0]=!1,n[1].forEach(t=>t()))},se=(e,n)=>{let t=M.get(e);if(!t){t=[!0,new Set],M.set(e,t);const o=()=>{t[0]=!1};e.then(o,o)}t[1].add(n)},W=e=>typeof(e==null?void 0:e.then)=="function",ce=(e,n,t)=>{t.p.has(e)||(t.p.add(e),n.then(()=>{t.p.delete(e)},()=>{t.p.delete(e)}))},$=(e,n,t)=>{const o=t(e),s="v"in o,p=o.v;if(W(n))for(const d of o.d.keys())ce(e,n,t(d));o.v=n,delete o.e,(!s||!Object.is(p,o.v))&&(++o.n,W(p)&&fe(p))},te=(e,n,t)=>{var o;const s=new Set;for(const p of((o=t.get(e))==null?void 0:o.t)||[])t.has(p)&&s.add(p);for(const p of n.p)s.add(p);return s},pe=()=>{const e=new Set,n=()=>{e.forEach(t=>t())};return n.add=t=>(e.add(t),()=>{e.delete(t)}),n},k=()=>{const e={},n=new WeakMap,t=o=>{var s,p;(s=n.get(e))==null||s.forEach(d=>d(o)),(p=n.get(o))==null||p.forEach(d=>d())};return t.add=(o,s)=>{const p=o||e,d=(n.has(p)?n:n.set(p,new Set)).get(p);return d.add(s),()=>{d==null||d.delete(s),d.size||n.delete(p)}},t},ve=e=>(e.c||(e.c=k()),e.m||(e.m=k()),e.u||(e.u=k()),e.f||(e.f=pe()),e),he=Symbol(),ye=(e=new WeakMap,n=new WeakMap,t=new WeakMap,o=new Set,s=new Set,p=new Set,d={},c=(_,...S)=>_.read(...S),a=(_,...S)=>_.write(...S),i=(_,S)=>{var b;return(b=_.unstable_onInit)==null?void 0:b.call(_,S)},h=(_,S)=>{var b;return(b=_.onMount)==null?void 0:b.call(_,S)},...w)=>{const _=w[0]||(r=>{if((P?"production":void 0)!=="production"&&!r)throw new Error("Atom is undefined or null");let y=e.get(r);return y||(y={d:new Map,p:new Set,n:0},e.set(r,y),i==null||i(r,z)),y}),S=w[1]||(()=>{const r=[],y=v=>{try{v()}catch(u){r.push(u)}};do{d.f&&y(d.f);const v=new Set,u=v.add.bind(v);o.forEach(l=>{var f;return(f=n.get(l))==null?void 0:f.l.forEach(u)}),o.clear(),p.forEach(u),p.clear(),s.forEach(u),s.clear(),v.forEach(y),o.size&&b()}while(o.size||p.size||s.size);if(r.length)throw new AggregateError(r)}),b=w[2]||(()=>{const r=[],y=new WeakSet,v=new WeakSet,u=Array.from(o);for(;u.length;){const l=u[u.length-1],f=_(l);if(v.has(l)){u.pop();continue}if(y.has(l)){if(t.get(l)===f.n)r.push([l,f]);else if((P?"production":void 0)!=="production"&&t.has(l))throw new Error("[Bug] invalidated atom exists");v.add(l),u.pop();continue}y.add(l);for(const m of te(l,f,n))y.has(m)||u.push(m)}for(let l=r.length-1;l>=0;--l){const[f,m]=r[l];let E=!1;for(const A of m.d.keys())if(A!==f&&o.has(A)){E=!0;break}E&&(T(f),D(f)),t.delete(f)}}),T=w[3]||(r=>{var y;const v=_(r);if(H(v)&&(n.has(r)&&t.get(r)!==v.n||Array.from(v.d).every(([g,j])=>T(g).n===j)))return v;v.d.clear();let u=!0;const l=()=>{n.has(r)&&(D(r),b(),S())},f=g=>{var j;if(Z(r,g)){const Y=_(g);if(!H(Y))if(B(g))$(g,g.init,_);else throw new Error("no atom init");return J(Y)}const x=T(g);try{return J(x)}finally{v.d.set(g,x.n),ee(v.v)&&ce(r,v.v,x),(j=n.get(g))==null||j.t.add(r),u||l()}};let m,E;const A={get signal(){return m||(m=new AbortController),m.signal},get setSelf(){return(P?"production":void 0)!=="production"&&!U(r)&&console.warn("setSelf function cannot be used with read-only atom"),!E&&U(r)&&(E=(...g)=>{if((P?"production":void 0)!=="production"&&u&&console.warn("setSelf function cannot be called in sync"),!u)try{return I(r,...g)}finally{b(),S()}}),E}},C=v.n;try{const g=c(r,f,A);return $(r,g,_),W(g)&&(se(g,()=>m==null?void 0:m.abort()),g.then(l,l)),v}catch(g){return delete v.v,v.e=g,++v.n,v}finally{u=!1,C!==v.n&&t.get(r)===C&&(t.set(r,v.n),o.add(r),(y=d.c)==null||y.call(d,r))}}),V=w[4]||(r=>{const y=[r];for(;y.length;){const v=y.pop(),u=_(v);for(const l of te(v,u,n)){const f=_(l);t.set(l,f.n),y.push(l)}}}),I=w[5]||((r,...y)=>{let v=!0;const u=f=>J(T(f)),l=(f,...m)=>{var E;const A=_(f);try{if(Z(r,f)){if(!B(f))throw new Error("atom not writable");const C=A.n,g=m[0];$(f,g,_),D(f),C!==A.n&&(o.add(f),(E=d.c)==null||E.call(d,f),V(f));return}else return I(f,...m)}finally{v||(b(),S())}};try{return a(r,u,l,...y)}finally{v=!1}}),D=w[6]||(r=>{var y;const v=_(r),u=n.get(r);if(u&&!ee(v.v)){for(const[l,f]of v.d)if(!u.d.has(l)){const m=_(l);L(l).t.add(r),u.d.add(l),f!==m.n&&(o.add(l),(y=d.c)==null||y.call(d,l),V(l))}for(const l of u.d||[])if(!v.d.has(l)){u.d.delete(l);const f=N(l);f==null||f.t.delete(r)}}}),L=w[7]||(r=>{var y;const v=_(r);let u=n.get(r);if(!u){T(r);for(const l of v.d.keys())L(l).t.add(r);if(u={l:new Set,d:new Set(v.d.keys()),t:new Set},n.set(r,u),(y=d.m)==null||y.call(d,r),U(r)){const l=()=>{let f=!0;const m=(...E)=>{try{return I(r,...E)}finally{f||(b(),S())}};try{const E=h(r,m);E&&(u.u=()=>{f=!0;try{E()}finally{f=!1}})}finally{f=!1}};s.add(l)}}return u}),N=w[8]||(r=>{var y;const v=_(r);let u=n.get(r);if(u&&!u.l.size&&!Array.from(u.t).some(l=>{var f;return(f=n.get(l))==null?void 0:f.d.has(r)})){u.u&&p.add(u.u),u=void 0,n.delete(r),(y=d.u)==null||y.call(d,r);for(const l of v.d.keys()){const f=N(l);f==null||f.t.delete(r)}return}return u}),ue=[e,n,t,o,s,p,d,c,a,i,h,_,S,b,T,V,I,D,L,N],z={get:r=>J(T(r)),set:(r,...y)=>{try{return I(r,...y)}finally{b(),S()}},sub:(r,y)=>{const u=L(r).l;return u.add(y),S(),()=>{u.delete(y),N(r),S()}}};return Object.defineProperty(z,he,{value:ue}),z},ae=ye,_e=ve,ne=se,K={};let we=0;function re(e,n){const t=`atom${++we}`,o={toString(){return(K?"production":void 0)!=="production"&&this.debugLabel?t+":"+this.debugLabel:t}};return typeof e=="function"?o.read=e:(o.init=e,o.read=Se,o.write=ge),n&&(o.write=n),o}function Se(e){return e(this)}function ge(e,n,t){return n(this,typeof t=="function"?t(e(this)):t)}const be=()=>{let e=0;const n=_e({}),t=new WeakMap,o=new WeakMap,s=ae(t,o,void 0,void 0,void 0,void 0,n,void 0,(c,a,i,...h)=>e?i(c,...h):c.write(a,i,...h)),p=new Set;return n.m.add(void 0,c=>{p.add(c);const a=t.get(c);a.m=o.get(c)}),n.u.add(void 0,c=>{p.delete(c);const a=t.get(c);delete a.m}),Object.assign(s,{dev4_get_internal_weak_map:()=>(console.log("Deprecated: Use devstore from the devtools library"),t),dev4_get_mounted_atoms:()=>p,dev4_restore_atoms:c=>{const a={read:()=>null,write:(i,h)=>{++e;try{for(const[w,_]of c)"init"in w&&h(w,_)}finally{--e}}};s.set(a)}})};function me(){return(K?"production":void 0)!=="production"?be():ae()}let O;function Ee(){return O||(O=me(),(K?"production":void 0)!=="production"&&(globalThis.__JOTAI_DEFAULT_STORE__||(globalThis.__JOTAI_DEFAULT_STORE__=O),globalThis.__JOTAI_DEFAULT_STORE__!==O&&console.warn("Detected multiple Jotai instances. It may cause unexpected behavior with the default store. https://github.com/pmndrs/jotai/discussions/2044"))),O}const Te={},Ae=R.createContext(void 0);function le(e){return R.useContext(Ae)||Ee()}const G=e=>typeof(e==null?void 0:e.then)=="function",F=e=>{e.status||(e.status="pending",e.then(n=>{e.status="fulfilled",e.value=n},n=>{e.status="rejected",e.reason=n}))},Re=ie.use||(e=>{if(e.status==="pending")throw e;if(e.status==="fulfilled")return e.value;throw e.status==="rejected"?e.reason:(F(e),e)}),q=new WeakMap,oe=(e,n)=>{let t=q.get(e);return t||(t=new Promise((o,s)=>{let p=e;const d=i=>h=>{p===i&&o(h)},c=i=>h=>{p===i&&s(h)},a=()=>{try{const i=n();G(i)?(q.set(i,t),p=i,i.then(d(i),c(i)),ne(i,a)):o(i)}catch(i){s(i)}};e.then(d(e),c(e)),ne(e,a)}),q.set(e,t)),t};function Ie(e,n){const{delay:t,unstable_promiseStatus:o=!ie.use}={},s=le(),[[p,d,c],a]=R.useReducer(h=>{const w=s.get(e);return Object.is(h[0],w)&&h[1]===s&&h[2]===e?h:[w,s,e]},void 0,()=>[s.get(e),s,e]);let i=p;if((d!==s||c!==e)&&(a(),i=s.get(e)),R.useEffect(()=>{const h=s.sub(e,()=>{if(o)try{const w=s.get(e);G(w)&&F(oe(w,()=>s.get(e)))}catch{}if(typeof t=="number"){setTimeout(a,t);return}a()});return a(),h},[s,e,t,o]),R.useDebugValue(i),G(i)){const h=oe(i,()=>s.get(e));return o&&F(h),Re(h)}return i}function Oe(e,n){const t=le();return R.useCallback((...s)=>{if((Te?"production":void 0)!=="production"&&!("write"in e))throw new Error("not writable atom");return t.set(e,...s)},[t,e])}function je(e,n){return[Ie(e),Oe(e)]}const Q={},Pe=Symbol((Q?"production":void 0)!=="production"?"RESET":"");function Je(e,n){let t=null;const o=new Map,s=new Set,p=c=>{let a;if(n===void 0)a=o.get(c);else for(const[h,w]of o)if(n(h,c)){a=w;break}if(a!==void 0)if(t!=null&&t(a[1],c))p.remove(c);else return a[0];const i=e(c);return o.set(c,[i,Date.now()]),d("CREATE",c,i),i},d=(c,a,i)=>{for(const h of s)h({type:c,param:a,atom:i})};return p.unstable_listen=c=>(s.add(c),()=>{s.delete(c)}),p.getParams=()=>o.keys(),p.remove=c=>{if(n===void 0){if(!o.has(c))return;const[a]=o.get(c);o.delete(c),d("REMOVE",c,a)}else for(const[a,[i]]of o)if(n(a,c)){o.delete(a),d("REMOVE",a,i);break}},p.setShouldRemove=c=>{if(t=c,!!t)for(const[a,[i,h]]of o)t(h,a)&&(o.delete(a),d("REMOVE",a,i))},p}const de=e=>typeof(e==null?void 0:e.then)=="function";function De(e=()=>{try{return window.localStorage}catch(t){(Q?"production":void 0)!=="production"&&typeof window<"u"&&console.warn(t);return}},n){var t;let o,s;const p={getItem:(a,i)=>{var h,w;const _=b=>{if(b=b||"",o!==b){try{s=JSON.parse(b,n==null?void 0:n.reviver)}catch{return i}o=b}return s},S=(w=(h=e())==null?void 0:h.getItem(a))!=null?w:null;return de(S)?S.then(_):_(S)},setItem:(a,i)=>{var h;return(h=e())==null?void 0:h.setItem(a,JSON.stringify(i,void 0))},removeItem:a=>{var i;return(i=e())==null?void 0:i.removeItem(a)}},d=a=>(i,h,w)=>a(i,_=>{let S;try{S=JSON.parse(_||"")}catch{S=w}h(S)});let c;try{c=(t=e())==null?void 0:t.subscribe}catch{}return!c&&typeof window<"u"&&typeof window.addEventListener=="function"&&window.Storage&&(c=(a,i)=>{if(!(e()instanceof window.Storage))return()=>{};const h=w=>{w.storageArea===e()&&w.key===a&&i(w.newValue)};return window.addEventListener("storage",h),()=>{window.removeEventListener("storage",h)}}),c&&(p.subscribe=d(c)),p}const Le=De();function X(e,n,t=Le,o){const s=re(n);return(Q?"production":void 0)!=="production"&&(s.debugPrivate=!0),s.onMount=d=>{d(t.getItem(e,n));let c;return t.subscribe&&(c=t.subscribe(e,d,n)),c},re(d=>d(s),(d,c,a)=>{const i=typeof a=="function"?a(d(s)):a;return i===Pe?(c(s,n),t.removeItem(e)):de(i)?i.then(h=>(c(s,h),t.setItem(e,h))):(c(s,i),t.setItem(e,i))})}const Ne=[{name:"UI Components",schema:[{name:"create_interactive_component",description:"Creates an interactive UI component with JavaScript functionality",parameters:{type:"object",properties:{componentType:{type:"string",description:"Type of component (form, table, modal, chart, dashboard, etc.)"},features:{type:"string",description:"Comma-separated list of features to include (validation, search, sorting, pagination, animation, etc.)"},styling:{type:"string",description:"Design style preference (modern, minimal, colorful, professional, etc.)"}},required:["componentType","features"]}},{name:"html_renderer",description:"Renders HTML content with optional CSS styling as a live preview",parameters:{type:"object",properties:{html:{type:"string",description:"The HTML content to render"},css:{type:"string",description:"Optional CSS styles to apply"}},required:["html"]}}]},{name:"Data & Analytics",schema:[{name:"generate_sample_data",description:"Generates realistic sample data for components like tables, lists, or cards",parameters:{type:"object",properties:{dataType:{type:"string",description:"Type of data (users, products, posts, analytics, companies, events, etc.)"},count:{type:"string",description:"Number of items to generate"},fields:{type:"string",description:"Comma-separated list of specific fields to include (optional)"}},required:["dataType","count"]}},{name:"create_chart",description:"Creates interactive charts and data visualizations",parameters:{type:"object",properties:{type:{type:"string",description:"Chart type (bar, line, pie, scatter, area, etc.)"},data:{type:"string",description:"Chart data as JSON string or data source"},options:{type:"string",description:"Chart configuration options as JSON string (optional)"}},required:["type","data"]}}]},{name:"Development Tools",schema:[{name:"javascript",description:"Executes JavaScript code in a safe environment and returns the result",parameters:{type:"object",properties:{code:{type:"string",description:"The JavaScript code to execute. Use return statement to return a value."}},required:["code"]}}]}],Me=X("toolsEnabled",!1),We=X("toolSchema",Ne),Ve=X("enabledTools",[]);export{Oe as a,X as b,je as c,We as d,Ve as e,le as f,re as g,Je as h,Me as t,Ie as u};
