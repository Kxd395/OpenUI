import{r as m,p as ie,j as e,h as He,D as Be,q as le,s as M,b as Ke,v as Le,w as Ve,x as T,y as z,z as Oe,A as Fe,E as Ue,O as $e,G as se,I as Ge,J as qe,K as re,M as We}from"./vendor-De1_G7BA.js";import{c as R,B as C,u as Ye,E as Xe,L as Qe,M as Je}from"./index-WJajgRhe.js";import{h as F,D as Ze,a as et,b as tt,c as oe,d as ce,e as de,f as ue,g as me,i as he,j as W,k as st,l as rt,m as ot,n as nt,s as at,t as it}from"./dialog-CiaOOFul.js";import{u as fe,a as lt,b as ct,c as D,t as dt,e as ut,d as mt,f as ht}from"./tools-BR6hBggJ.js";import{c as ge,u as ft,S as gt,a as xt,b as pt,d as vt,e as L,f as V,g as N}from"./select-CLiVLqv5.js";import{c as bt,u as jt}from"./check-p0VMm9tA.js";import{T as wt}from"./textarea-CGk-8EaO.js";import{I as ne}from"./input-DbMnRqT8.js";function yt({title:t}){return m.useEffect(()=>{document.title=t},[t]),null}function xe({id:t,label:s,active:r=!1,collapsed:a=!1}){const o=fe(F({id:t})),l=ie(),n=lt(ce);return e.jsxs(e.Fragment,{children:[!!s&&e.jsx("div",{className:"mb-2 w-full text-xs",children:e.jsx("h3",{children:s})}),e.jsxs("div",{className:`${r&&"bg-secondary"} group relative mb-2 w-full rounded-md p-2 text-sm hover:bg-secondary`,children:[e.jsx(He,{to:`/ai/${t}`,className:"flex items-center active:text-black",children:e.jsxs("div",{className:"relative grow overflow-hidden whitespace-nowrap",children:[`${o.emoji??"ðŸ¤”"} `,o.name??o.prompt,e.jsx("div",{className:R("absolute bottom-0 right-0 top-0 w-8 bg-gradient-to-l from-zinc-300 from-0% to-transparent group-hover:right-5 group-hover:from-secondary dark:from-zinc-900",{"from-secondary":r,"dark:from-secondary":r})})]})}),e.jsx("div",{className:"absolute bottom-0 right-0 top-0 flex items-center bg-secondary pr-2 opacity-0 group-hover:opacity-100",children:e.jsxs(Ze,{modal:!1,children:[e.jsx(et,{asChild:!0,children:e.jsx(C,{className:"h-5 w-5 text-sm hover:ring-transparent focus-visible:ring-0",variant:"ghost",size:"icon",children:e.jsx(Be,{className:"inline-block h-4 w-4"})})}),e.jsxs(tt,{children:[e.jsx(oe,{children:"Copy"}),e.jsx(oe,{onClick:()=>{n(i=>i.filter(u=>u!==t)),F.remove({id:t}),localStorage.removeItem(`${t}.html`),localStorage.removeItem(`${t}.md`),l("/ai/new")},children:"Delete"})]})]})}),e.jsx(C,{onClick:()=>l(`/ai/${t}`),className:R("absolute -right-[58px] top-0 z-50 ml-auto inline-flex h-8 w-8 p-2 hover:scale-110 hover:bg-inherit",a&&"ml-10",r&&"bg-zinc-900"),variant:"ghost",size:"icon",children:o.emoji??"ðŸ¤”"})]})]})}xe.defaultProps={label:void 0};/*! js-cookie v3.0.5 | MIT */function O(t){for(var s=1;s<arguments.length;s++){var r=arguments[s];for(var a in r)t[a]=r[a]}return t}var St={read:function(t){return t[0]==='"'&&(t=t.slice(1,-1)),t.replace(/(%[\dA-F]{2})+/gi,decodeURIComponent)},write:function(t){return encodeURIComponent(t).replace(/%(2[346BF]|3[AC-F]|40|5[BDE]|60|7[BCD])/g,decodeURIComponent)}};function Y(t,s){function r(o,l,n){if(!(typeof document>"u")){n=O({},s,n),typeof n.expires=="number"&&(n.expires=new Date(Date.now()+n.expires*864e5)),n.expires&&(n.expires=n.expires.toUTCString()),o=encodeURIComponent(o).replace(/%(2[346B]|5E|60|7C)/g,decodeURIComponent).replace(/[()]/g,escape);var i="";for(var u in n)n[u]&&(i+="; "+u,n[u]!==!0&&(i+="="+n[u].split(";")[0]));return document.cookie=o+"="+t.write(l,o)+i}}function a(o){if(!(typeof document>"u"||arguments.length&&!o)){for(var l=document.cookie?document.cookie.split("; "):[],n={},i=0;i<l.length;i++){var u=l[i].split("="),b=u.slice(1).join("=");try{var x=decodeURIComponent(u[0]);if(n[x]=t.read(b,x),o===x)break}catch{}}return o?n[o]:n}}return Object.create({set:r,get:a,remove:function(o,l){r(o,"",O({},l,{expires:-1}))},withAttributes:function(o){return Y(this.converter,O({},this.attributes,o))},withConverter:function(o){return Y(O({},this.converter,o),this.attributes)}},{attributes:{value:Object.freeze(s)},converter:{value:Object.freeze(t)}})}var ae=Y(St,{path:"/"});function Nt(){const[t,s]=m.useState(),[r,a]=m.useState(!1);return m.useEffect(()=>{const l=async()=>{const i=await st();a(i===void 0)},n=ae.get("error");n&&(s(n),ae.remove("error")),l().catch(i=>console.error(i))},[]),e.jsx(de,{open:r,onOpenChange:l=>{console.log(l)},children:e.jsxs(ue,{noClose:!0,className:"sm:max-w-[425px]",children:[e.jsxs(me,{children:[e.jsx(he,{children:"Login"}),t?e.jsx(W,{className:"mb-2 text-red-500 dark:text-red-400",children:t}):e.jsx(W,{children:"To enforce usage quotas an account is required."})]}),e.jsx("div",{className:"items-center",children:e.jsx(C,{asChild:!0,children:e.jsxs("a",{href:"/v1/login",children:[e.jsx(le,{className:"mr-2"})," Login with GitHub"]})})})]})})}async function Ct(){try{return(await(await fetch("/v1/ollama/tags")).json()).models}catch(t){return console.error(t),[]}}var Dt="Label",pe=m.forwardRef((t,s)=>e.jsx(M.label,{...t,ref:s,onMouseDown:r=>{var o;r.target.closest("button, input, select, textarea")||((o=t.onMouseDown)==null||o.call(t,r),!r.defaultPrevented&&r.detail>1&&r.preventDefault())}}));pe.displayName=Dt;var ve=pe;const Pt=Ke("text-sm font-medium leading-none peer-disabled:cursor-not-allowed peer-disabled:opacity-70"),k=m.forwardRef(({className:t,...s},r)=>e.jsx(ve,{ref:r,className:R(Pt(),t),...s}));k.displayName=ve.displayName;var be=["PageUp","PageDown"],je=["ArrowUp","ArrowDown","ArrowLeft","ArrowRight"],we={"from-left":["Home","PageDown","ArrowDown","ArrowLeft"],"from-right":["Home","PageDown","ArrowDown","ArrowRight"],"from-bottom":["Home","PageDown","ArrowDown","ArrowLeft"],"from-top":["Home","PageDown","ArrowUp","ArrowLeft"]},_="Slider",[X,Et,Rt]=bt(_),[ye,ss]=Ve(_,[Rt]),[It,U]=ye(_),Se=m.forwardRef((t,s)=>{const{name:r,min:a=0,max:o=100,step:l=1,orientation:n="horizontal",disabled:i=!1,minStepsBetweenThumbs:u=0,defaultValue:b=[a],value:x,onValueChange:c=()=>{},onValueCommit:f=()=>{},inverted:v=!1,form:y,...g}=t,j=m.useRef(new Set),h=m.useRef(0),p=n==="horizontal"?At:kt,[w=[],H]=Le({prop:x,defaultProp:b,onChange:S=>{var I;(I=[...j.current][h.current])==null||I.focus(),c(S)}}),$=m.useRef(w);function G(S){const P=Ht(w,S);B(S,P)}function ze(S){B(S,h.current)}function _e(){const S=$.current[h.current];w[h.current]!==S&&f(w)}function B(S,P,{commit:I}={commit:!1}){const ee=Vt(l),q=Ot(Math.round((S-a)/l)*l+a,ee),K=ge(q,[a,o]);H((A=[])=>{const E=zt(A,K,P);if(Lt(E,u*l)){h.current=E.indexOf(K);const te=String(E)!==String(A);return te&&I&&f(E),te?E:A}else return A})}return e.jsx(It,{scope:t.__scopeSlider,name:r,disabled:i,min:a,max:o,valueIndexToChangeRef:h,thumbs:j.current,values:w,orientation:n,form:y,children:e.jsx(X.Provider,{scope:t.__scopeSlider,children:e.jsx(X.Slot,{scope:t.__scopeSlider,children:e.jsx(p,{"aria-disabled":i,"data-disabled":i?"":void 0,...g,ref:s,onPointerDown:T(g.onPointerDown,()=>{i||($.current=w)}),min:a,max:o,inverted:v,onSlideStart:i?void 0:G,onSlideMove:i?void 0:ze,onSlideEnd:i?void 0:_e,onHomeKeyDown:()=>!i&&B(a,0,{commit:!0}),onEndKeyDown:()=>!i&&B(o,w.length-1,{commit:!0}),onStepKeyDown:({event:S,direction:P})=>{if(!i){const q=be.includes(S.key)||S.shiftKey&&je.includes(S.key)?10:1,K=h.current,A=w[K],E=l*q*P;B(A+E,K,{commit:!0})}}})})})})});Se.displayName=_;var[Ne,Ce]=ye(_,{startEdge:"left",endEdge:"right",size:"width",direction:1}),At=m.forwardRef((t,s)=>{const{min:r,max:a,dir:o,inverted:l,onSlideStart:n,onSlideMove:i,onSlideEnd:u,onStepKeyDown:b,...x}=t,[c,f]=m.useState(null),v=z(s,p=>f(p)),y=m.useRef(void 0),g=jt(o),j=g==="ltr",h=j&&!l||!j&&l;function d(p){const w=y.current||c.getBoundingClientRect(),H=[0,w.width],G=Z(H,h?[r,a]:[a,r]);return y.current=w,G(p-w.left)}return e.jsx(Ne,{scope:t.__scopeSlider,startEdge:h?"left":"right",endEdge:h?"right":"left",direction:h?1:-1,size:"width",children:e.jsx(De,{dir:g,"data-orientation":"horizontal",...x,ref:v,style:{...x.style,"--radix-slider-thumb-transform":"translateX(-50%)"},onSlideStart:p=>{const w=d(p.clientX);n==null||n(w)},onSlideMove:p=>{const w=d(p.clientX);i==null||i(w)},onSlideEnd:()=>{y.current=void 0,u==null||u()},onStepKeyDown:p=>{const H=we[h?"from-left":"from-right"].includes(p.key);b==null||b({event:p,direction:H?-1:1})}})})}),kt=m.forwardRef((t,s)=>{const{min:r,max:a,inverted:o,onSlideStart:l,onSlideMove:n,onSlideEnd:i,onStepKeyDown:u,...b}=t,x=m.useRef(null),c=z(s,x),f=m.useRef(void 0),v=!o;function y(g){const j=f.current||x.current.getBoundingClientRect(),h=[0,j.height],p=Z(h,v?[a,r]:[r,a]);return f.current=j,p(g-j.top)}return e.jsx(Ne,{scope:t.__scopeSlider,startEdge:v?"bottom":"top",endEdge:v?"top":"bottom",size:"height",direction:v?1:-1,children:e.jsx(De,{"data-orientation":"vertical",...b,ref:c,style:{...b.style,"--radix-slider-thumb-transform":"translateY(50%)"},onSlideStart:g=>{const j=y(g.clientY);l==null||l(j)},onSlideMove:g=>{const j=y(g.clientY);n==null||n(j)},onSlideEnd:()=>{f.current=void 0,i==null||i()},onStepKeyDown:g=>{const h=we[v?"from-bottom":"from-top"].includes(g.key);u==null||u({event:g,direction:h?-1:1})}})})}),De=m.forwardRef((t,s)=>{const{__scopeSlider:r,onSlideStart:a,onSlideMove:o,onSlideEnd:l,onHomeKeyDown:n,onEndKeyDown:i,onStepKeyDown:u,...b}=t,x=U(_,r);return e.jsx(M.span,{...b,ref:s,onKeyDown:T(t.onKeyDown,c=>{c.key==="Home"?(n(c),c.preventDefault()):c.key==="End"?(i(c),c.preventDefault()):be.concat(je).includes(c.key)&&(u(c),c.preventDefault())}),onPointerDown:T(t.onPointerDown,c=>{const f=c.target;f.setPointerCapture(c.pointerId),c.preventDefault(),x.thumbs.has(f)?f.focus():a(c)}),onPointerMove:T(t.onPointerMove,c=>{c.target.hasPointerCapture(c.pointerId)&&o(c)}),onPointerUp:T(t.onPointerUp,c=>{const f=c.target;f.hasPointerCapture(c.pointerId)&&(f.releasePointerCapture(c.pointerId),l(c))})})}),Pe="SliderTrack",Ee=m.forwardRef((t,s)=>{const{__scopeSlider:r,...a}=t,o=U(Pe,r);return e.jsx(M.span,{"data-disabled":o.disabled?"":void 0,"data-orientation":o.orientation,...a,ref:s})});Ee.displayName=Pe;var Q="SliderRange",Re=m.forwardRef((t,s)=>{const{__scopeSlider:r,...a}=t,o=U(Q,r),l=Ce(Q,r),n=m.useRef(null),i=z(s,n),u=o.values.length,b=o.values.map(f=>ke(f,o.min,o.max)),x=u>1?Math.min(...b):0,c=100-Math.max(...b);return e.jsx(M.span,{"data-orientation":o.orientation,"data-disabled":o.disabled?"":void 0,...a,ref:i,style:{...t.style,[l.startEdge]:x+"%",[l.endEdge]:c+"%"}})});Re.displayName=Q;var J="SliderThumb",Ie=m.forwardRef((t,s)=>{const r=Et(t.__scopeSlider),[a,o]=m.useState(null),l=z(s,i=>o(i)),n=m.useMemo(()=>a?r().findIndex(i=>i.ref.current===a):-1,[r,a]);return e.jsx(Tt,{...t,ref:l,index:n})}),Tt=m.forwardRef((t,s)=>{const{__scopeSlider:r,index:a,name:o,...l}=t,n=U(J,r),i=Ce(J,r),[u,b]=m.useState(null),x=z(s,d=>b(d)),c=u?n.form||!!u.closest("form"):!0,f=Oe(u),v=n.values[a],y=v===void 0?0:ke(v,n.min,n.max),g=_t(a,n.values.length),j=f==null?void 0:f[i.size],h=j?Bt(j,y,i.direction):0;return m.useEffect(()=>{if(u)return n.thumbs.add(u),()=>{n.thumbs.delete(u)}},[u,n.thumbs]),e.jsxs("span",{style:{transform:"var(--radix-slider-thumb-transform)",position:"absolute",[i.startEdge]:`calc(${y}% + ${h}px)`},children:[e.jsx(X.ItemSlot,{scope:t.__scopeSlider,children:e.jsx(M.span,{role:"slider","aria-label":t["aria-label"]||g,"aria-valuemin":n.min,"aria-valuenow":v,"aria-valuemax":n.max,"aria-orientation":n.orientation,"data-orientation":n.orientation,"data-disabled":n.disabled?"":void 0,tabIndex:n.disabled?void 0:0,...l,ref:x,style:v===void 0?{display:"none"}:t.style,onFocus:T(t.onFocus,()=>{n.valueIndexToChangeRef.current=a})})}),c&&e.jsx(Ae,{name:o??(n.name?n.name+(n.values.length>1?"[]":""):void 0),form:n.form,value:v},a)]})});Ie.displayName=J;var Mt="RadioBubbleInput",Ae=m.forwardRef(({__scopeSlider:t,value:s,...r},a)=>{const o=m.useRef(null),l=z(o,a),n=ft(s);return m.useEffect(()=>{const i=o.current;if(!i)return;const u=window.HTMLInputElement.prototype,x=Object.getOwnPropertyDescriptor(u,"value").set;if(n!==s&&x){const c=new Event("input",{bubbles:!0});x.call(i,s),i.dispatchEvent(c)}},[n,s]),e.jsx(M.input,{style:{display:"none"},...r,ref:l,defaultValue:s})});Ae.displayName=Mt;function zt(t=[],s,r){const a=[...t];return a[r]=s,a.sort((o,l)=>o-l)}function ke(t,s,r){const l=100/(r-s)*(t-s);return ge(l,[0,100])}function _t(t,s){return s>2?`Value ${t+1} of ${s}`:s===2?["Minimum","Maximum"][t]:void 0}function Ht(t,s){if(t.length===1)return 0;const r=t.map(o=>Math.abs(o-s)),a=Math.min(...r);return r.indexOf(a)}function Bt(t,s,r){const a=t/2,l=Z([0,50],[0,a]);return(a-l(s)*r)*r}function Kt(t){return t.slice(0,-1).map((s,r)=>t[r+1]-s)}function Lt(t,s){if(s>0){const r=Kt(t);return Math.min(...r)>=s}return!0}function Z(t,s){return r=>{if(t[0]===t[1]||s[0]===s[1])return s[0];const a=(s[1]-s[0])/(t[1]-t[0]);return s[0]+a*(r-t[0])}}function Vt(t){return(String(t).split(".")[1]||"").length}function Ot(t,s){const r=Math.pow(10,s);return Math.round(t*r)/r}var Te=Se,Ft=Ee,Ut=Re,$t=Ie;const Me=m.forwardRef(({className:t,...s},r)=>e.jsxs(Te,{ref:r,className:R("relative flex w-full touch-none select-none items-center",t),...s,children:[e.jsx(Ft,{className:"relative h-2 w-full grow overflow-hidden rounded-full bg-secondary",children:e.jsx(Ut,{className:"absolute h-full bg-primary"})}),e.jsx($t,{className:"block h-5 w-5 rounded-full border-2 border-primary bg-background ring-offset-background transition-colors focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:pointer-events-none disabled:opacity-50"})]}));Me.displayName=Te.displayName;const Gt=ct("apiKeys",{openai:"",anthropic:"",google:"",groq:"",mistral:""});function qt({trigger:t}){const{isPending:s,isError:r,error:a,data:o}=Fe({queryKey:["ollama-models"],queryFn:Ct}),[l,n]=D(nt),[i,u]=D(at),[b,x]=D(it),[c,f]=D(Gt);D(dt);const[v,y]=D(ut),[g]=D(mt),[j,h]=m.useState("general");return m.useEffect(()=>{a&&console.error("Error fetching ollama models",a)},[a]),e.jsxs(de,{children:[e.jsx(rt,{asChild:!0,children:t}),e.jsxs(ue,{className:"max-w-xl",children:[e.jsxs(me,{children:[e.jsx(he,{children:"Settings"}),e.jsx(W,{children:"Make changes to your settings or logout"})]}),e.jsxs("div",{className:"grid gap-4 py-4",children:[e.jsxs("div",{className:"grid grid-cols-4 items-center gap-4",children:[e.jsx(k,{className:"text-right",htmlFor:"model",children:"Model"}),e.jsxs(gt,{value:l,onValueChange:d=>{n(d)},children:[e.jsx(xt,{className:"min-w-[200px]",children:e.jsx(pt,{placeholder:"Switch models"})}),e.jsxs(vt,{children:[e.jsxs(L,{children:[e.jsx(V,{children:"OpenAI"}),e.jsx(N,{value:"gpt-4o",children:"GPT-4o"}),e.jsx(N,{value:"gpt-4o-mini",children:"GPT-4o Mini"}),e.jsx(N,{value:"gpt-4-turbo",children:"GPT-4 Turbo"}),e.jsx(N,{value:"gpt-3.5-turbo",children:"GPT-3.5 Turbo"}),e.jsx(N,{value:"o1-preview",children:"o1 Preview"}),e.jsx(N,{value:"o1-mini",children:"o1 Mini"})]}),e.jsxs(L,{children:[e.jsx(V,{children:"Anthropic"}),e.jsx(N,{value:"claude-3-5-sonnet-20241022",children:"Claude 3.5 Sonnet"}),e.jsx(N,{value:"claude-3-5-haiku-20241022",children:"Claude 3.5 Haiku"}),e.jsx(N,{value:"claude-3-opus-20240229",children:"Claude 3 Opus"})]}),e.jsxs(L,{children:[e.jsx(V,{children:"Google"}),e.jsx(N,{value:"gemini-1.5-pro",children:"Gemini 1.5 Pro"}),e.jsx(N,{value:"gemini-1.5-flash",children:"Gemini 1.5 Flash"})]}),e.jsxs(L,{children:[s||o&&o.length>0?e.jsx(V,{children:"Ollama"}):void 0,!!s&&e.jsx(N,{disabled:!0,value:"loading",children:"Loading..."}),!!r&&e.jsx(N,{disabled:!0,value:"error",children:"Unable to load Ollama models, see console"}),!!o&&o.map(d=>e.jsx(N,{value:`ollama/${d.name}`,children:d.name},d.digest))]})]})]})]}),e.jsxs("div",{className:"grid grid-cols-4 items-center gap-4",children:[e.jsx(k,{className:"text-right",htmlFor:"prompt",children:"System Prompt"}),e.jsx(wt,{className:"col-span-3",id:"prompt",onChange:d=>u(d.target.value),value:i})]}),e.jsxs("div",{className:"grid grid-cols-4 items-center gap-4",children:[e.jsx(k,{className:"text-right",htmlFor:"temperature",children:"Temperature"}),e.jsx(Me,{min:0,max:1,step:.05,onValueChange:d=>x(d[0]),value:[b],className:"col-span-3",id:"temperature"})]}),e.jsxs("div",{className:"grid grid-cols-4 items-center gap-4",children:[e.jsx(k,{className:"text-right",htmlFor:"api-keys",children:"API Keys"}),e.jsx("div",{className:"col-span-3",children:Object.entries(c).map(([d,p])=>e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx(ne,{value:p,onChange:w=>{f({...c,[d]:w.target.value})},placeholder:`${d} API key`,className:"flex-1"}),e.jsx(C,{variant:"destructive",onClick:()=>{f({...c,[d]:""})},children:"Clear"})]},d))})]}),e.jsxs("div",{className:"grid grid-cols-4 items-center gap-4",children:[e.jsx(k,{className:"text-right",htmlFor:"tools",children:"Tools"}),e.jsx("div",{className:"col-span-3",children:g.map(d=>e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx(ne,{value:v.includes(d.name)?"Enabled":"Disabled",readOnly:!0,className:"w-[100px]"}),e.jsx(C,{variant:v.includes(d.name)?"destructive":"outline",onClick:()=>{v.includes(d.name)?y(v.filter(p=>p!==d.name)):y([...v,d.name])},children:v.includes(d.name)?"Disable":"Enable"})]},d.name))})]}),e.jsx("div",{className:"mt-3 grid grid-cols-4 items-center gap-4",children:e.jsxs("div",{className:"col-start-4 flex justify-end",children:[e.jsx(C,{variant:"secondary",onClick:()=>{fetch("/v1/session",{method:"DELETE"}).then(()=>document.location.reload()).catch(d=>console.error(d))},children:"Logout"}),e.jsx(ot,{asChild:!0,children:e.jsx(C,{type:"button",className:"ml-2",children:"Update"})})]})})]})]})]})}function rs(){const t=Ye(`(min-width: ${Je}px)`),[s,r]=m.useState(()=>localStorage.getItem("history-collapsed")==="true"),[a,o]=m.useState(!t),l=ie(),[n]=D(ce),i=Ue(),u=fe(F({id:i.id??"new"})),b=ht();m.useEffect(()=>{i.id===void 0&&(console.log("redirecting"),l("/ai/new"))},[i.id,l]),m.useEffect(()=>{o(!t)},[t]);const x=()=>{const h=!s;r(h),localStorage.setItem("history-collapsed",h.toString())},c=()=>{o(!a)},f=new Date,v=new Date(f.getTime()-24*60*60*1e3),y=new Date(f.getTime()-7*24*60*60*1e3);let g="";const j=s?"w-0":"w-[300px]";return e.jsxs("div",{className:"mobile-safe-container flex overflow-hidden bg-secondary relative",children:[e.jsx(yt,{title:u.name??"Create a new Elemint"}),e.jsx(Nt,{}),e.jsx("div",{className:R("flex-1 transition-all duration-300 ease-in-out",s?"mr-0":"mr-[300px]"),children:e.jsx(Xe,{renderError:h=>e.jsx(Qe,{error:h}),children:e.jsx($e,{})})}),e.jsxs("div",{className:R(`${j} fixed top-0 right-0 h-screen flex-none flex-col border-l border-input bg-zinc-300 transition-all duration-300 ease-in-out dark:bg-zinc-900 z-40`,a&&!t&&"hidden"),children:[e.jsx("div",{className:"flex items-center justify-between px-4 py-3 border-b border-input bg-white/50 dark:bg-gray-800/50",children:!s&&e.jsxs(e.Fragment,{children:[e.jsx("h2",{className:"text-sm font-medium text-secondary-foreground",children:"History"}),e.jsxs("div",{className:"flex items-center gap-1",children:[e.jsx(C,{asChild:!0,size:"icon",variant:"ghost",className:"h-8 w-8 hover:bg-inherit",children:e.jsx("a",{"aria-label":"GitHub",rel:"noreferrer",target:"_blank",href:"https://github.com/wandb/openui",children:e.jsx(le,{className:"h-4 w-4"})})}),e.jsx(qt,{trigger:e.jsx(C,{className:"h-8 w-8 hover:scale-110 hover:bg-inherit",variant:"ghost",size:"icon",children:e.jsx(se,{className:"h-4 w-4"})})}),e.jsx(C,{onClick:()=>{l("/ai/new"),t||o(!0)},className:"h-8 w-8 hover:scale-110 hover:bg-inherit",variant:"ghost",size:"icon",children:e.jsx(Ge,{className:"h-4 w-4"})}),!t&&e.jsx(C,{onClick:c,className:"h-8 w-8 hover:scale-110 hover:bg-inherit",variant:"ghost",size:"icon",children:e.jsx(qe,{className:"h-4 w-4"})})]})]})}),!s&&e.jsx("div",{className:"flex h-full max-h-full flex-col items-start justify-start overflow-y-auto overflow-x-hidden p-3",children:n.map(h=>{let d;const p=b.get(F({id:h}));return p.createdAt&&p.createdAt>=v&&(g===""||g==="Today")?(d=g==="Today"?void 0:"Today",g="Today"):p.createdAt&&p.createdAt>=y&&g==="Today"?(d="Previous 7 days",g=d):g==="Previous 7 days"&&p.createdAt&&p.createdAt<=y?(d="Previous 30 days",g=d):d=void 0,e.jsx(xe,{id:h,label:d,active:i.id===h,collapsed:s},h)})}),e.jsx(C,{onClick:x,className:R("absolute -left-10 top-4 h-8 w-8 rounded-full bg-white dark:bg-gray-800 border border-input shadow-sm hover:scale-110 hover:bg-secondary z-50",s&&"left-2"),variant:"ghost",size:"icon",children:s?e.jsx(re,{className:"h-4 w-4"}):e.jsx(We,{className:"h-4 w-4"})})]}),!t&&!a&&e.jsx("div",{className:"fixed inset-0 bg-black/50 z-30",onClick:c}),!t&&e.jsx(C,{onClick:c,className:"fixed top-4 right-4 h-10 w-10 rounded-full bg-white dark:bg-gray-800 border border-input shadow-lg hover:scale-110 hover:bg-secondary z-50",variant:"ghost",size:"icon",children:e.jsx(se,{className:"h-5 w-5"})}),t&&s&&e.jsx(C,{onClick:x,className:"fixed top-4 right-4 h-10 w-10 rounded-full bg-white dark:bg-gray-800 border border-input shadow-lg hover:scale-110 hover:bg-secondary z-50",variant:"ghost",size:"icon",children:e.jsx(re,{className:"h-5 w-5"})})]})}export{rs as default};
